R was initially developed for statisticians, who often are interested in generating plots or figures to visualize their data. As such, a few basic plotting features were built in when R was first developed. These are all still available; however, over time, a new approach to graphing in R was developed. This new approach implemented what is known as the grammar of graphics, which allows you to develop elegant graphs flexibly in R. Making plots with this set of rules requires the R package g g plot 2. To get started using g g plot 2 requires you to install and load the package into R.

The grammar of graphics implemented in g g plot 2 is based on the idea that you can build any plot as long as you have a few pieces of information. To start building plots in g g plot 2, we'll need some data and to know the type of plot we want to make. The type of plot you want to make in g g plot 2 is referred to as a geom. This will get us started, but the idea behind g g plot 2 is that every new concept we introduce will be layered on top of the information you've already learned. So we'll start with the two basics (data and a geom) and then build from there.

To begin making exploratory plots and to build your first plot in g g plot 2 we'll make use of the fact that there are some datasets already available in R. One frequently-used data set is known as diamond. This data set contains prices and other attributes of 53,940 diamonds, with each row containing information about a different diamond. If you look at the first few rows of data, you can get an idea of what data are included in this dataset. Here you see a lot of numbers and can get an idea of what data are available in this data set. For example, in looking at the column names across the top, you can see that we have information about how many carats each diamond is (carat), some information on the quality of the diamond cut (cut), the color of the diamond from J (worst) to D (best) (color), along with a number of other pieces of information about each diamond. We will use this data set to better understand how to generate plots in R, using g g plot 2. We will use this data set to better understand how to generate plots in R, using g g plot 2.

In g g plot 2, each plot will begin by calling the g g plot function. Within that function you'll specify which data you'll want to use using the data argument. After that function call, you will use a plus sign. Then, you'll specify what geom you'll be using. Here, to generate a scatterplot we'll use geom underscore point. Within the mapping argument, we'll specify a few aesthetics. These will specify how we want the plot to appear. Specifically, we specify these by defining x and y in the a e s argument. The x argument defines which variable will be along the bottom of the plot, which is known as the x axis. y refers to which variable will be along the left side of the plot, on the y axis. If we wanted to understand the relationship between the number of carats in a diamond and that diamond's price, we may use the code you see here. In this plot, we see that, in general, the larger the diamond is (or the more carats it has), the higher its price is , which is probably what we would have expected. However, now, we have a plot that definitively supports this conclusion. 

What if we wanted to alter the size, color or shape of the points? Probably unsurprisingly, these can all be changed within the aesthetics argument. After all, something's aesthetic refers to how something looks. Thus, if you want to change the look of your graph, you'll want to play around with the plot's aesthetics call, a e s. In fact, in the plots above you'll notice that we specified what should be on the x and y axis within the a e s call. These are aesthetic mappings too! We were telling g g plot 2 what to put on each axis, which will clearly affect how the plot looks, so it makes sense that these calls have to occur within a e s. Additionally now, we'll focus on arguments within a e s that change how the points on the plot look. In the scatterplot we just generated, we saw that there was a relationship between carat and price, such that the more carats a diamond has, generally, the higher the price. But, it's not a perfectly linear trend. What we mean by that is that not all diamonds that were 2 carats were exactly the same price. And, not all 3 carat diamonds were exactly the same price. What if we were interested in finding out a little bit more about why this is the case? Well, we could look at the clarity of the diamonds to see whether or not that affects the price of the diamonds? To add clarity to our plot, we could change the color of our points to differ based on clarity using the color argument within a e s. Here, we see that not only are the points now colored by clarity, g g plot 2 has also automatically added a legend for us with the various classes and their corresponding point color. The Help pages of the diamonds dataset state that clarity is "a measurement of how clear the diamond is." The documentation also tells us that I1 is the worst clarity and IF is the best. This makes sense with what we see in the plot. Relatively small diamonds of less than one carat that have the best clarity level are some of the most expensive diamonds. While, relatively large diamonds (diamonds between 2 and 3 carats) of the lowest clarity tend to cost less. By coloring our points by a different variable in the dataset, we now understand our dataset better. This is one of the goals of data visualization! And, specifically, what we're doing here in g g plot 2 is known as mapping a variable to an aesthetic. We took another variable in the dataset, mapped it to a color, and then put those colors on the points in the plot. Well, we only told g g plot 2 what variable to map. It took care of the rest!

Of course, we can also manually specify the colors of the points on our graph; however, manually specifying the colors of points happens outside of the a e s call. This is because g g plot 2 does not have to go through the mapping the variable to an aesthetic process. In the code here, g g plot 2 doesn't have to go through the trouble of figuring out which level of the variable is going to be which color on the plot (the mapping to the aesthetic part of the process). Instead, it just colors every point red. Thus, manually specifying the color of your points happens _outside_ of a e s, as you see here.

As above, we can change the point size by mapping another variable to the size argument within a e s as you see here. Again, g g plot 2 handles actually doing the mapping. All you have to do is specify what variable you want mapped and how you want g g plot 2 to handle the mapping. Here we want to change the point size based on the diamond's clarity value. With this code, you do get a warning when you run it in R that using a "discrete variable is not advised." This is because mapping to size is usually done for numeric variables, rather than categorical variables like clarity. This makes sense here too. The relationship between clarity, carat and price was easier to visualize when clarity was mapped to color than here where it is mapped to size.

As above, the size of every point can be changed by calling size outside of a e s using the code you see here. Here, we have manually increased the size of all the points on the plot. 

You can also change the shape of the points. We've used solid, filled circles thus far with is the default in geom point, but we could specify a different shape for each level of clarity using the code you see here. Here, while the mapping occurs correctly within g g plot 2, we do get a warning message that discriminating more than six different shapes is difficult for the human eye. Thus, g g plot 2 won't allow more than six different shapes on a plot. This suggests that while you can do something, it's not always the best to do that thing. Here, with more than six levels of clarity, it's best to stick to mapping this variable to color as we did initially.

To manually specify a shape for all the points on your plot, you would specify it outside of a e s using one of the twenty-five different shape options available:

For example, to plot all of the points on the plot as filled diamonds (it is a dataset about diamonds after all...), you would specify shape '18' using the code you see here.

In addition to mapping variables to different aesthetics, you can also opt to use facets to help make sense of your data visually. Rather than plotting all the data on a single plot and visually altering the point size or color of a third variable in a scatterplot, you could break each level of that third variable out into a separate subplot. To do this, you would use faceting. Faceting is particularly helpful for looking at categorical variables. To use faceting, you would add an additional layer to your code and use the facet underscore wrap function. Within facet wrap, you specify the variable by which you want your subplots to be made as you see here. When faceting, read the tilde as the word "by". Specifically here, we want a scatterplot of the relationship between carat and price and we want it faceted  by clarity.Now, we have eight different plots, one for each level of clarity, where we can see the relationship between diamond carats and price. You'll note here we've opted to specify that we want 2 rows of subplots using the n row argument. You can play around with the number of rows you want in your output to customize how your output plot appears. 

Thus far in this lesson we've only looked at scatterplots, which means we've only called geom underscore point. However, there are many additional geoms that we could call to generate different plots. Simply, a geom is just a shape we use to represent the data. In the case of scatterplots, they don't really use a geom since each actual point is plotted individually. Other plots, such as the boxplots, barplots, and histograms we described in previous lessons help to summarize or represent the data in a meaningful way, without plotting each individual point. The shapes used in these different types of plots to represent what's going on in the data is that plot's geom. To see exactly what we mean by geoms being "shapes that represent the data", let's keep using the diamonds dataset, but instead of looking at the relationship between two numeric variables in a scatterplot, let's take a step back and take a look at a single numeric variable using a histogram. To review, histograms allow you to quickly visualize the range of values your variable takes and the shape of your data. (Are all the numbers clustered around center? Or, are they all at the extremes of the range? Somewhere in between? The answers to these questions describe the "shape" of the values of your variable.) For example, if we wanted to see what the distribution of carats was for these data, we could use the code you see here. The code follows what we've seen so far in this lesson; however, we've now called geom underscore histogram to specify that we want to plot a histogram rather than a scatterplot. Here, the rectangular boxes on the plot are geoms (shapes) that represent the number of diamonds that fall into each bin on the plot. Rather than plotting each individual point, histograms use rectangular boxes to summarize the data. This summarization helps us quickly understand what's going on in our dataset. Specifically here, we can quickly see that most of the diamonds in the dataset are less than 1 carat. This is not necessarily something we could be sure of from the scatterplots generated previously in this lesson (since some points could have been plotted directly on top of one another). Thus, it's often helpful to visualize your data in a number of ways when you first get a dataset to ensure that you understand the variables and relationships between variables in your dataset!

Barplots show the relationship between a set of numbers and a categorical variable. In the diamonds data set, we may be interested in knowing how many diamonds there are of each cut of diamonds. There are five categories for cut of diamond. If we make a barplot for this variable, we can see the number of diamonds in each category. Again, the changes to the code are minimal. We are now interested in plotting the categorical variable cut and state that we want a bar plot, by including geom underscore bar. Here, we again use rectangular shapes to represent the data, but we're not showing the distribution of a single variable (as we were with `geom underscore histogram`). Rather, we're using rectangles to show the count of diamonds within each category within cut. Thus, we need a different geom: `geom unerscore bar`!

Boxplots provide a summary of a numerical variable across categories. For example, if you were interested to see how the price of a diamond (a numerical variable) changed across different diamond color categories (categorical variable), you may want to use a boxplot. In the code, we see that again, we only have to change what variables we want to be included in the plot the type of plot (or geom) we want (here, geom underscore boxplot) to get a basic boxplot. In the figure itself we see that the median price (the black horizontal bar in the middle of each box represents the median for each category) increases as the diamond color increases from the worst category (J) to the best (D).

Now, if you wanted to change the color of this boxplot, it would just take a small addition to the code for the plot you just generated, using the fill argument. Here, by specifying the color "red" in the fill argument, you're able to change the plot's appearance. In the next lesson, we'll go deeper into the many ways in which a plot can be customized within g g plot2!

While we've reviewed basic code to make a few common types of plots, there are a number of other plot types that can be made in g g plot 2. These are listed in the online reference material for g g plot 2 at http://g g plot 2.tidyverse.org/reference/ or can be accessed through RStudio directly. To do so, you would type question mark geom underscore into the Console in RStudio. A list of geoms will appear. You can hover your cursor over any one of these to get a short description. 

Or, you can select a geom from this list and click enter. After selecting a geom, such as geom underscore abline and hitting 'Enter,' the help page for that geom will pop up in the 'Help' tab at bottom right. Here, you can find more detailed information about the selected geom.