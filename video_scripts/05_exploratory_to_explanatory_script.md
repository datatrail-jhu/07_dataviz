In the lessons in this course up to this point, we have covered what to consider when making a plot, the basics of using g g plot 2 to generate plots in R, how to customize g g plot 2 plots, and how to save figures. In this lesson we're going to put all of those skills together and walk through an example of how to take a plot from exploratory (its roughest form) to explanatory (polished and ready to be presented).

To discuss going from exploratory plots, such as the four plots made last lesson reviewing common geoms used in g g plot 2, to explanatory plots, such as the iPhone plot we recreated from Lisa Charlotte Rost's blog post discussed in the last lesson, we'll begin with the fact that g g plot 2 is incredibly flexible. This means that if you can think of a change you want to make to your plot, there is almost always a way to make it happen in g g plot 2. To discuss the types of changes you can make to plots, we'll return to the iPhone sales plot we looked at in an earlier lesson in this course where we discussed considerations that should be made when making good plots and use that as an example. We'll walk through the code used to make that plot and highlight the types of changes you can make to the the overall appearance of a plot step-by-step.  

Before we do that, let's take a glance at the data used to make this plot. The variables used to reproduce the blog post graph are y r q,  a variable for the year and quarter from which the sales of the Apple product was recorded, variable, which Apple Product we're talking about, and value - the sales for that Apple product in that year and quarter in millions of US dollars. N A means no data were available for that product in that year-quarter.

While there is a lot of code that led to this final product of this plot, we're going to walk through it step by step and start by discussing the fact that it still falls within the basic framework we've discussed throughout the lessons in this course.

Specifically, you'll note that it still starts with the same basic framework we already discussed. There is a g g plot function call and then the geom is defined. Here, as we wanted a line for each Apple product, so we specify the geom geom underscore line. This isn't a geom we have discussed explicitly yet, but it connects the points on a plot with a single line. It's helpful for plotting data over time, which is exactly what we're doing here! In addition to specifying the x and y arguments within a e s, we are also specifying the group and color arguments, both of which we have discussed previously. Here, group lets g g plot 2 map the variable variable to three different lines (one for each Apple product) and color specifies that we want to map the variable variable to three different colors. In fact, if we were to just run these two lines of code, we would have a reasonable exploratory plot.  While this plot is not nearly as clear nor as pretty as the final plot, you can better understand the data at this point than you could by just looking at the data table, which is precisely the goal of an exploratory plot! 

The lines on this plot are a little too thin to be seen easily and certainly not as thick as the lines on the original plot. So, let's use the size argument within geom underscore line to make these lines thicker and more visible.

Before we go any further, we'll want to consider including a great title. As discussed at the beginning of this lesson, it's important to add a title that tells viewers what conclusions that should draw from the plot. g g title allows the addition of both a title and a subtitle to any plot made with g g plot 2. Here, we're using the same title and subtitle as was used in the plot originally.

Here, since we've specified a variable to color in our a e s originally, we're able to manually control what the colors of this color variable are. We do that within the function scale underscore color underscore manual by specifying the three colors for our three lines using the values argument.

Before we go any further, let's just remove that gray background. To do so, we'll use the very helpful black and white theme,  theme underscore b w.

After getting closer to the look we want, we can modify the theme specifically using theme. To get us started we'll first remove the vertical gridlines. Note that within theme, when you want to remove a theme element you specify that by setting the theme element to element underscore blank.

We can then remove the axis labels y r q and value from the plot. The necessary information about what is plotted on each axis is included in the subtitle already on this plot

Now, let's increase the size of those axis labels and the plot title, so that they're clear to anyone looking at this plot!

Finally, let's just make a few more tweaks. Let's remove the legend because we're going to directly label the lines in a few steps and let's remove the unnecessary border around the plot.

Now that the border has been removed, we're kind of squished up right against the edge of the plotting area. We can increase the area around the plot by specifying plot point margin.

Now that we've got the theme pretty close to what we want and have increased the size of the font on the axes, it's clear that they're not quite displaying enough information. We can specify how and what values are displayed on the x and y axis so that each year is displayed along the x-axis and multiples of ten along the y-axis. 

There isn't direct functionality to directly label lines in g g plot 2, but someone has written a package called direct labels to do just that for plots generated in g g plot 2. Here we add an additional geom, geom underscore d l to label our lines directly.

The plot is really close to complete at this point. But, to really make it as explanatory as possible, we want to annotate the plot to draw viewers attention to a particular point on the plot. To do so in g g plot 2, we'll use annotate. Here, we'll use annotate to both to add the grey rectangle and to add the text to the plot explaining that in 2010 was the first year when more iPhones were sold than iPods. First, we specify we want to generate a "rect" using annotate and include the limits of that rectangle. Within annotate, we to specify the geom you want to add to the plot (here we add "rect" and "text") and the x- and y-coordinates on the graph where you want the annotation to appear. Additionally, you also have the ability to control a number of parameters, including, alpha to adjust the transparency of shapes on the plot, size to adjust the size of the text, h just to adjust the horizontal alignment of text, v just to control vertical alignment.

Finally, we can again use annotate to add text directly to the plot to explain what that gray box is highlighting. Here, we specify that this annotation is "text" and include information about where we want that annotation to appear on the plot (x and y), what we want it to say, how we want it to be aligned, and how big it should be.

And, with that, we have text directly on the graph, drawing the viewers attention to an important point on the graph.

With all of these changes, you now have a beautiful plot that accomplishes everything an explanatory plot should. It conveys information clearly to the viewer, is well-labeled, and draws the attention of the viewer to the important parts of the graph. We point these out now not so you master each of these alterations, but rather so that you have some idea of what it takes to take an exploratory plot that you generally make very quickly for your own purposes and turn it into an explanatory plot that clearly communicates your results to someone else. 

As we walked through this example, you saw that it can take a lot of code to generate a polished graph. As you practice making plots in R, know that it's typical to struggle to figure out how to make the plot look exactly the way you want. Google will help here and so will people on Stack Overflow. Googling your specific question and looking for solutions in R that other people have already come up with is a great place to start whenever you're stuck trying to figure out something on a plot. Also, really great explanatory plots take time. It's ok to spend a lot of time making a single important plot that effectively communicates your point.  