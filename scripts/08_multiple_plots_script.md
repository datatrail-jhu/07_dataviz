When generating reports for a data science project, there is often more than one plot that you want to display at a time. To accomplish this in R, we will use the R package patchwork from Thomas Lin Pedersen, which simplifies this process. As with other R packages you've used, you will first need to install this package. As this package is relatively new, however, it is not on CRAN so install dot packages will not work. Instead, this package has to be installed using devtools. If you don't have devtools installed yet, do that first. If you already have that library installed, you can simply load devtools and then install the patchwork package from GitHub using devtools colon colon install underscore github open parenthesis quote thomasp 8 5 a slash patchwork close end quote parenthesis.

Patchwork allows any plots generated from ggplot2 to be combined simply. For example, if you were interested in plotting data from the mtcars dataset in R but wanted to combine two different plots, you could use patchwork. Below, you'll see code for combining two plots. The first plot examines the relationship between how many miles per gallon a car a gets and the weight of that car in 1000 pounts. This is assigned to object p1. The second plot looks at the relationship between how many mpgs a car gets and the number of forward gears that car has (p2). While you could plot each individually, you may want to see them side by side. With patchwork, you can do this my simply using a plus sign. Using this very simple code, you'll obtain side by side plots, which is exactly what you were looking to achieve! 

If you don't want these plots side-by-side, but rather one on top of the other, this can be controlled with plot_layout, where you can define the number of columns or number of rows you would like to display.

Similarly, if you want these on top of one another but would rather the first plot be larger, this can be controlled within plot_layout using the heights argument. The '3' in the code below specifies that you would like the top plot to be 3 times larger than the bottom plot (whose relative height is defined as '1').

Finally, sometimes you want a more complicated layout. Patchwork can handle this too. To nest a plot within another plot, the formatting is slightly more complicated, you can use parentheses or brackets around the plots you want to nest. For example, in the code here, plot p4 is plotted first and the whole plot is defined to have one column. Then, plot p1 is added. Finally, p2 and p3 are combined into a single column plot before this combined plot is nested into the overall plot. The brackets are placed carefully around the plots to determine the achieve the desired plotting format.

So far we have only added plots to one another using a plus sign. While this operator can accomplish most multi-plotting goals, we will briefly highlight a few additional operators within patchwork. If you are simply adding plots beside one another or on top of one another, this can be accomplished using a pipe and a slash. a pipe tells patchwork to put the plots next to one another from left to right. a slash tells patchwork you want those plots on top of each other. For example, below we see that p1, p2, and p3 should all be next to one another. These are grouped together because of the parentheses. Then these three plots should all be atop p4.

ggpplot2 allows for flexibility in theme in many different ways, as demonstrated in a previous lesson. To apply the same theme to all plots in the multi-plot image, you will want to use &. Here you see that with the use of &, theme_bw has been applied to all the plots.

If you only wanted this theme to be applied to the plots in the current nesting level, you would use an asterisk.

Thus far, we have only focused on adding plots together using a plus sign. There is also a dash operator. Think of this as a hyphen, rather than as a subtraction sign, because we won't be removing any plots. This operator puts what is on the left and right side of the dash on the same nesting level. In the code below, the overall plot layout defines that there should be one column. That means that p2 and p3 are on the same nesting level (because of the dash). This forces p1 and p2 to be side by side. This operator is slightly less intuitive, and thus is included here for completeness but included at the end because you can likely compose all the multiplot images you need without fully understanding the dash operator.