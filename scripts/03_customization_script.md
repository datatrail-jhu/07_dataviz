In the previous lesson, we walked through the steps of generating a number of different graphs using different geoms in g g plot 2. We discussed the basics of mapping variables to your graph to customize its appearance or aesthetic using size, shape, and color within a e s. In this lesson, we'll build on what we've previously learned to really get down to how to customize your plots so that they're as clear as possible for communicating your results to others.  The skills learned in this lesson will help take you from generating exploratory plots that help you better understand your data to explanatory plots -- plots that help you communicate your results to others. We'll cover how to customize the colors, labels, legends, and text used on your graph. 

Since we're already familiar with it, we'll again use the diamonds dataset that we've been using to learn about g g plot 2. To get started, we'll learn how to control color across plots in g g plot 2. in the last lesson we discussed using color within a e s on a scatterplot to automatically color points by the clarity of the diamond when looking at the relationship between price and carat.

However, what if we wanted to carry this concept over to a bar plot and look at how many diamonds we have of each clarity group? Well the code here is a start since we see the breakdown of how many diamonds are in each clarity group, but all the bars are the same color. What if we adjusted color within a e s?

As expected, color added a legend for each level of clarity; however, it colored the lines around the bars on the plot, rather than the bars themselves. 

In order to color the bars themselves, you want to specify the more helpful argument fill using the code you see here. Great! We now have a plot with bars of different colors, which was our first goal! However, adding colors here, while maybe making the plot prettier doesn't actually give us any more information. We can see the same pattern of which clarity is most frequent among the diamonds in our dataset that we could in the first plot we made. 

Color is particularly helpful here, however, if we wanted to map a different variable onto each bar. For example, what if we wanted to see the breakdown of diamond "cut" within each "clarity" bar? Now we're getting some new information! We can see that each level in clarity appears to have diamonds of all levels of cut. Color here has really helped us understand more about the data. But what if we were going to present these data? While there is no comparison between red and green, which is good b/c red-green comparison cause trouble for many color-blind individuals, there is a fair amount of yellow in this plot. Some projectors don't handle projecting yellow well, and it will show up too light on the screen. To avoid this, let's manually change the colors in this bar chart! To do so we'll add an additional layer to the plot using scale underscore fill underscore manual. 

Here, we've specified five different colors within the values argument of scale underscore fill underscore manual, one for each cut of diamond.  It's important to note that here we've used scale underscore fill underscore manual to adjust the color of what was mapped using fill equals cut. If we had colored our chart using color within a e s, there is a different function called scale underscore color underscore manual. This makes good sense! You use scale underscore fill underscore manual with fill and scale underscore color underscore manual with color. Keep that in mind as you adjust colors in the future! Now that we have some sense of which clarity is most common in our diamonds dataset and were able to successfully specified the colors we wanted manually in order to make this plot useful for presentation, what if we wanted to compare the proportion of each cut across the different clarities?  Currently that's difficult because there is a different number within each clarity. In order to compare the proportion of each cut we have to use position adjustment. What we've generated here is a stacked bar chart. It's a pretty good name for this type of chart as the bars fur cut are all stacked on top of one another. If you don't want a stacked bar chart you could use one of the other position options: identity, fill, or dodge.

Returning to our question about proportion of each cut within each clarity group, we'll want to use position equals "fill". Building off of what we've already done, Here, we've specified how we want to adjust the position of the bars in the plot. Each bar is now of equal height and we can compare each colored bar across the different clarities. As expected, we see that among the best clarity group, we see more diamonds of the best cut!

Briefly, we'll take a quick detour to look at position equals "dodge". This position adjustment places each object next to one another. This will not allow for easy comparison across groups, as we just saw with the last group but will allow values within each clarity group to be visualized. Unlike in the first plot where we specified fill equals cut, we can actually see the relationship between each cut within the lowest clarity group. Before, when the values were stacked on top of one another, we were not able to visually see that there were more "Fair" and "Premium" cut diamonds in this group than the other cuts. Now, with position equals "dodge", this information is visually apparent.

Text on plots is incredibly helpful. A good title tells viewers what they should be getting out of the plot. Axis labels are incredibly important to inform viewers of what's being plotted. Annotations on plot help guide viewers to important points in the plot. We'll discuss how to control all of these now! Now that we have an understanding of how to manually adjust color, let's improve the clarity of our plots by including helpful labels on our plot by adding an additional labs layer. We'll return to the plot where we were comparing proportions of diamond cut across diamond clarity groups. You can include a title, subtitle, and/or caption within the labs function. Each argument, as per usual, will be specified by a comma. 
 
You may have noticed that our y-axis label says "count", but it's not actually a count anymore. In reality, it's a proportion. Having appropriately labeled axes is so important. Otherwise, viewers won't know what's being plotted. So, we should really fix that now using the y lab function. Note: we won't be changing the x-axis label, but if you were interested in doing so, you would use the xlab function.

To change the overall aesthetic of your graph, there are 8 themes built into g g plot 2 that can be added as an additional layer in your graph.
 
For example, if we wanted remove the gridlines and grey background from the chart, we would use theme_classic. Building on what we've already generated, here we see the results of theme underscore classic being added to our code. We now have a pretty good looking plot! However, a few additional changes would make this plot even better for communication.

In addition to using available themes, we can also adjust parts of the theme of our graph using an additional theme layer. There are a lot of options within theme. To see them all, look at the help documentation for theme. Here, we'll simply go over the syntax for using a few of them here to get you comfortable with adjusting your theme. Later on, you can play around with all the options on your own to become an expert! For example, if we want to increase text size to make it more easily viewable when presenting this graph, we would do that within theme. Notice here that we're increasing the text size of the title, axis text, axis title, and legend text all within theme! The syntax here is important. Within each of the elements of the theme you want to alter, you have to specify what it is you want to change. Here, for all three, we want to later text, so we specify element underscore text. Within that, we specify that it's size that we want to adjust. 

Changing the size of text on your plot is not the only thing you can control within theme. You can make text bold and change its color within theme. Note here that multiple changes can be made to a single element. We can change size and make the text bold. All we do is separate each argument with a comma, per usual. Any alterations to plot spacing or background, title, axis, and legend will all be made within theme.

At this point, all the text on the plot is pretty visible! However, there's one thing that's still not quite clear to viewers. In daily life, people refer to the "cut" of a diamond by terms like "round cut" or "princess cut" to describe the shape of the diamond. That's not what we're talking about here when we're discussing "cut". In these data, "cut" refers to the quality of the diamond, not the shape. Let's be sure that's clear as well! We can change that using an additional layer and guides! At this point, we have an informative title, clear colors, a well-labeled legend, and text that is large enough throughout the graph. This is certainly a graph that could be used in a presentation. We've taken it from a graph that is useful to just ourselves and made it into a plot that can communicate our findings well to others! We have touched on a number of alterations you can make by adding additional layers to a g g plot. In the rest of this lesson we'll touch on a few more changes you can make within g g plot 2 using a slightly different graph.

There may be times when you want a different number of values to be displayed on an axis. The scale of your plot for continuous variables can be controlled using scale  underscore y underscore continuous or scale underscore  underscore continuous. Here, we want to increase the number of labels displayed on the y-axis, so we'll use scale underscore y underscore continuous:

However, for discrete variables, where there is a limited number of levels, you would use scale underscore x underscore discrete or scale underscore y underscore discrete:

There are times when you'll want to flip your axis. This can be accomplished using co ord  underscore flip. Adding an additional layer to the plot we just generated switches our x- and y-axes, allowing for horizontal bar charts, rather than the default vertical bar charts:

It's important to remember that all the additional alterations we already discussed can still be applied to this graph! 

Finally, there will be times when you'll want to add text to a plot or to annotate points on your plot. We'll discuss briefly how to accomplish that here! To add text to your plot, we can use the function annotate. This requires us to specify that we want to annotate here with a "text" geom (rather than say a shape, like a rectangle - "rect"). Additionally, we have to specify what we'd like that text to say using label, where on the plot we'd like that text to show up, using x and y graph coordinates, how we'd like the text aligned, using h just for horizontal alignment where the options are "left", "center", or "right" and v just for vertical alignment where the arguments are "top", "center" or "bottom", and how big we'd like that text to be, using size:
